### Εγκατάσταση

Aπαιτείται Apache web server με υποστήριξη PHP 5. Η εφαρμογή έχει
δοκιμασθεί σε περιβάλλον σχολικού δικτύου και είναι απλή στην
εγκατάστασή της καθώς δεν απαιτεί τη ρύθμιση κάποιας βάσης δεδομένων.

Για την εγκατάσταση δεν χρειάζεται να είναι κάποιος προγραμματιστής,
όμως καλό θα ήταν να είναι κάποιος έμπειρος χρήστης των υπολογιστών και
του διαδικτύου και να έχει FTP\* πρόσβαση στο website της υπηρεσίας του.
Αν δεν έχετε τις γνώσεις ή τα δικαιώματα απευθυνθείτε στο διαχειριστή
του website της υπηρεσίας σας.

1.  Επιλέξτε Downloads -> Download zip για να κατεβάσετε το αρχείο και
    αποσυμπιέστε το στο δίσκο σας.
2.  Στη συνέχεια μετονομάστε το φάκελο που προέκυψε και ανεβάστε τον 
    με FTP στο root (public_html) του site σας.
3.  Με το FTP πρόγραμμα μπείτε στον υποφάκελο **XMLData** και ορίστε τα
    δικαιώματα του φακέλου σε **770** (Με αυτή τη ρύθμιση, κανείς άλλος
    εκτός από το πρόγραμμα δεν έχει πρόσβαση στα XML αρχεία που θα
    ανεβάζετε). Ορίστε επίσης τα δικαιώματα για το φάκελο **userData** σε
    **777**
4.  Ανοίξτε το αρχείο config.inc.php με κάποιον text-editor\* (π.χ.
    notepad) και κάντε τις ακόλουθες ρυθμίσεις…- Αλλάξτε την παράμετρο
    ORG_TITLE από ‘<span style="text-decoration: underline;">*Όνομα
    υπηρεσίας*</span>‘ στο όνομα της δικής σας υπηρεσίας.
    <p>
    - Αλλάξτε την παράμετρο ORG_URL από
    ‘<span style="text-decoration: underline;">*http://url-tou-site-sas*</span>‘
    στο url του δικού σας ιστότοπου.
5.  Αποθηκεύστε το αρχείο και ανεβάστε το στο server. Αν ερωτηθείτε,
    επιλέξτε overwrite (αντικατάσταση του υπάρχοντος).

\* Ενδεικτικά… Για FTP πρόγραμμα πρόγραμμα προτείνω το [filezilla](http://filezilla-project.org/) και
για text-editor πάρα πολύ καλά είναι τα [notepad++](http://notepad-plus-plus.org/) και [sublime text
2](http://www.sublimetext.com/2)

### Πριν τη χρήση

Η δουλειά που πρέπει να κάνει από εδώ και πέρα ο διαχεριστής του website
είναι πολύ απλή. Κάθε φορά που στέλνετε νέο αρχείο XML στην ΕΑΠ, θα
πρέπει να ανεβάζετε αυτό το αρχείο στο website, στο φάκελο
**misthodosia-online/XMLData** και στη συνέχεια να «τρέχετε» το
**scanXMLdata.php** (για να τρέξετε το scanXMLdata.php θα πρέπει να
επισκεφθείτε τη διεύθυνση:
http://url-tou-site-sas/misthodosia-online/scanXMLdata.php). Tο αρχείο
αυτο, διαβάζει όλα τα XML αρχεία που υπάρχουν σε αυτό το φάκελο και στη
συνέχεια αποθηκεύει ανά μισθοδοτούμενο και οργανωμένα ανά περίοδο
μισθοδοσίας, τα οικονομικά του στοιχεία. Φυσικά είναι δυνατό να
ανεβάσετε πολλά αρχεία XML και μετά να τρέξετε το scanXMLdata.php (για
παράδειγμα την πρώτη φορά που θα χρησιμοποιήσετε την εφαρμογή, μπορείτε
να ανεβάσετε όλα τα XML αρχεία που έχετε στείλει στην ΕΑΠ).

Στη συνέχεια, κάθε μισθοδοτούμενος μπορεί να επισκέπτεται τη διεύθυνση
http://url-tou-site-sas/misthodosia-online/ και να εισάγει τον ΑΦΜ και
τον ΑΜ του για να βλέπει αναλυτικά τη μισθοδοσία του ανά περίοδο.

ΠΡΟΣΟΧΗ: Θα πρέπει να προσέξετε ώστε να μην ανέβουν αντίγραφα αρχείων,
με τα ίδια δηλαδή δεδομένα αλλά με διαφορετικά ονόματα (για παράδειγμα
δοκιμαστικά XML που χρησιμοποιήσατε για έλεγχο). Κάτι τέτοιο θα έχει ως
αποτέλεσμα οι αποδοχές των εργαζομένων να εμφανίζονται διπλάσιες από τις
πραγματικές. Ανεβάζετε λοιπόν μόνο τα αρχεία .xml που έχουν σταλεί και
στην ΕΑΠ.

### Παραμετροποίηση

Η παραμετροποίηση γίνεται κάνοντας αλλαγές στο αρχείο **config.inc.php**
στο οποίο υπάρχουν αναλυτικά σχόλια για το τι κάνει κάθε ρύθμιση.
Ενδεικτικά μπορείτε να ρυθμίσετε…

- Τα ονόματα των φακέλων όπου αποθηκεύονται τα δεδομένα και οι
βιβλιοθήκες

- Την ονομασία και τη url διεύθυνση της υπηρεσίας σας

- Έναν κωδικό τον οποίο μπορείτε να χρησιμοποιείτε αντί για ΑΜ ώστε να
μπορείτε να δείτε τα στοιχεία κάποιου μισθοδοτούμενου δίνοντας μόνο τον
ΑΦΜ του.

Ένα ακόμα αρχείο που ίσως χρειαστεί να πειράξετε είναι το
**eapCodes.php** όπου γίνεται αντιστοίχηση των κωδικών (κρατήσεων ή
επιδομάτων) που υπάρχουν στα XML αρχεία με περιγραφές, ώστε να είναι
κατανοητοί στους μισθοδοτούμενους. Σε περίπτωση που κάποιος κωδικός δεν
έχει αντιστοίχηση σε περιγραφή θα συμπεριληφθεί στην ανάλυση αλλά θα
εμφανιστεί απλά ως κωδικός (χωςρίς περιγραφή).

#### Ενεργοποίηση της εξαγωγής σε PDF

Αν θέλετε να υπάρχει η δυνατότητα εξαγωγής των μισθοδοσιών σε pdf, τότε
θα πρέπει…

- Να κατεβάσετε τη βιβλιοθήκη tcpdf από εδώ: http://www.tcpdf.org/

- Να αποσυμπιέσετε και να ανεβάσετε το φάκελο tcpdf (μετονομάστε τον αν
δεν έχει ήδη αυτό το όνομα), μέσα στο φάκελο misthodosia-online

Προαιρετικά μπορείτε να αλλάξετε το όνομα του φακέλου που υπάρχει η
βιβλιοθήκη στο αρχείο config.inc.php